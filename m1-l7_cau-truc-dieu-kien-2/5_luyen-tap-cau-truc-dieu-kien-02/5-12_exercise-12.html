<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercise 12</title>
</head>
<body>

<script>
    // Tính tiền lãi suất vay ngân hàng theo số dư nợ giảm dần
    let loanAmount = parseInt(prompt("Nhập số tiền muốn vay"), 0);
    let loanMonth;
    let lendingRate;

    function loanCalculate() {
        let lendingAmountMonth = 0;
        let lendingAmount = 0;
        let newLoanAmount = loanAmount;
        let loanAmountMonth = loanAmount / loanMonth;
        for (let i = 0; i < loanMonth; i++, lendingAmount += lendingAmountMonth) {
            lendingAmountMonth = ((newLoanAmount - (loanAmountMonth * i))) * lendingRate / loanMonth;
        }
        document.write(`Tổng tiền lãi sau khi vay <b> ${loanAmount} </b> VNĐ trong vòng <b> ${loanMonth} </b> tháng
             là: <b> ${Math.round(lendingAmount)} </b> VNĐ`);
    }

    if (!isNaN(loanAmount) || (loanAmount >=0)) {
        loanMonth = parseInt(prompt("Nhập số tháng muốn vay tiền"), 0);
        if (!isNaN(loanMonth) || (loanMonth >= 0)) {
            lendingRate = parseFloat(prompt("Nhập lãi suất vay hàng tháng (ví dụ: 0.05, 0.1, 0.15...)"));
            if (!isNaN(lendingRate) || lendingRate >= 0) {
                loanCalculate();
            } else {
                document.write("Bạn đã nhập lãi suất sai!!!")
            }
        } else {
            document.write("Bạn đã nhập số tháng sai!!!");
        }
    } else {
        document.write("Bạn đã nhập số tiền sai!!!");
    }
</script>
</body>
</html>